pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
x=4a={}d=1l=3w=30y=x
r=rectfill
b=btn
f=flip
function p()return flr(rnd(w))end
function k(i,j,c)i*=4j*=4r(i,j,i+3,j+3,c)end
q=p()e=p()o=false
::_::
for i=0,3do
if(b(i))d=i
end
if not o then
cls()add(a,{x,y})
if(#a>l)del(a,a[1])
if(x==q and y==e)l+=1q=p()e=p()
if(d==0)x-=1
if(d==1)x+=1
if(d==2)y-=1
if(d==3)y+=1
if(x<0)x=w
if(x>w)x=0
if(y<0)y=w
if(y>w)y=0
for z in all(a)do
o=o or z[1]==x and z[2]==y
k(z[1],z[2],3)
end
k(q,e,8)k(x,y,11)
?""..l,0,0,7
end
if o then
?"game over",47,62,7
end
f()f()f()goto _
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
