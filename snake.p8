pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
x=4a={}s=4d=1l=3y=x
r=rectfill
b=btn

function p()return flr(rnd(16))end
function k(i,j,c)r(i*s+1,j*s+1,i*s+s,j*s+s,c or 8)end

fx=p()fy=p()t=0o=false
::_::
t+=1
if t%3==0 and not o then
cls()

for z in all(a) do
o=o or z[1]==x and z[2]==y
k(z[1],z[2],3)
end
k(fx,fy)
k(x,y,11)

add(a,{x,y})
if(#a>l)del(a,a[1]) 

if x==fx and y==fy then
l+=1
fx=p()
fy=p()
end

if(b(⬆️))d=0
if(b(⬇️))d=1
if(b(⬅️))d=2
if(b(➡️))d=3

if(d==0)y-=1
if(d==1)y+=1
if(d==2)x-=1
if(d==3)x+=1
?""..l,0,0,7
end
if o then
?"game over",47,62,7
end
flip()
goto _
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
